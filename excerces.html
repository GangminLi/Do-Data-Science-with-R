<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1.7 Excerces | 07-decision-tree.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="1.7 Excerces | 07-decision-tree.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1.7 Excerces | 07-decision-tree.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="summary.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Authoring Books with R Markdown</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="prediction-with-decision-trees.html"><a href="prediction-with-decision-trees.html"><i class="fa fa-check"></i><b>1</b> Prediction with Decision Trees</a><ul>
<li class="chapter" data-level="1.1" data-path="decision-tree-in-hunts-algorithm.html"><a href="decision-tree-in-hunts-algorithm.html"><i class="fa fa-check"></i><b>1.1</b> Decision tree in Huntâ€™s Algorithm</a><ul>
<li class="chapter" data-level="1.1.1" data-path="decision-tree-in-hunts-algorithm.html"><a href="decision-tree-in-hunts-algorithm.html#test_condition"><i class="fa fa-check"></i><b>1.1.1</b> How to Form a Test Condition?</a></li>
<li class="chapter" data-level="1.1.2" data-path="decision-tree-in-hunts-algorithm.html"><a href="decision-tree-in-hunts-algorithm.html#best_split"><i class="fa fa-check"></i><b>1.1.2</b> How to Determine the Best Split Condition?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="the-simplest-decision-tree-for-titanic.html"><a href="the-simplest-decision-tree-for-titanic.html"><i class="fa fa-check"></i><b>1.2</b> The Simplest Decision Tree for Titanic</a></li>
<li class="chapter" data-level="1.3" data-path="the-decision-tree-with-core-predictors.html"><a href="the-decision-tree-with-core-predictors.html"><i class="fa fa-check"></i><b>1.3</b> The Decision Tree with Core Predictors</a></li>
<li class="chapter" data-level="1.4" data-path="the-decision-tree-with-more-predictors.html"><a href="the-decision-tree-with-more-predictors.html"><i class="fa fa-check"></i><b>1.4</b> The Decision Tree with More Predictors</a></li>
<li class="chapter" data-level="1.5" data-path="the-decision-tree-with-full-predictors.html"><a href="the-decision-tree-with-full-predictors.html"><i class="fa fa-check"></i><b>1.5</b> The Decision Tree with Full Predictors</a></li>
<li class="chapter" data-level="1.6" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>1.6</b> Summary</a></li>
<li class="chapter" data-level="1.7" data-path="excerces.html"><a href="excerces.html"><i class="fa fa-check"></i><b>1.7</b> Excerces</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="excerces" class="section level2">
<h2><span class="header-section-number">1.7</span> Excerces</h2>
<ol style="list-style-type: decimal">
<li>Prove there is overfitting with model3 and model4. The idea is take certain samples from the training dataset form a validate dataset. Remove the value of attribute <em>survived</em> from the validate dataset. Using models to a prediction on validate dataset. Compare their results. If model3 performs better than model2 on the validate dataset but not on test dataset (which is given by Kaggle), it shows the model has an overfit problem. Proive this exists on both model3 and model4.</li>
</ol>
<p>Here are some sample code.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="excerces.html#cb53-1"></a><span class="kw">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb53-2"><a href="excerces.html#cb53-2"></a>train &lt;-<span class="st"> </span>RE_data[<span class="dv">1</span><span class="op">:</span><span class="dv">891</span>, ]</span>
<span id="cb53-3"><a href="excerces.html#cb53-3"></a>samp &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">nrow</span>(train), <span class="fl">0.7</span> <span class="op">*</span><span class="st"> </span><span class="kw">nrow</span>(train))</span>
<span id="cb53-4"><a href="excerces.html#cb53-4"></a>trainData &lt;-<span class="st"> </span>train[samp, ]</span>
<span id="cb53-5"><a href="excerces.html#cb53-5"></a>validData &lt;-<span class="st"> </span>train[<span class="op">-</span>samp, ]</span>
<span id="cb53-6"><a href="excerces.html#cb53-6"></a></span>
<span id="cb53-7"><a href="excerces.html#cb53-7"></a>Prediction2 &lt;-<span class="st"> </span><span class="kw">predict</span>(model1, validData, <span class="dt">type =</span> <span class="st">&quot;class&quot;</span>)</span>
<span id="cb53-8"><a href="excerces.html#cb53-8"></a>Prediction3 &lt;-<span class="st"> </span><span class="kw">predict</span>(model4, validData, <span class="dt">type =</span> <span class="st">&quot;class&quot;</span>)</span>
<span id="cb53-9"><a href="excerces.html#cb53-9"></a><span class="co">#check up</span></span>
<span id="cb53-10"><a href="excerces.html#cb53-10"></a><span class="kw">table</span>(Prediction2, validData<span class="op">$</span>Survived)</span></code></pre></div>
<pre><code>##            
## Prediction2   0   1
##           0 146  25
##           1  24  73</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="excerces.html#cb55-1"></a><span class="kw">table</span>(validData<span class="op">$</span>Survived)</span></code></pre></div>
<pre><code>## 
##   0   1 
## 170  98</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="excerces.html#cb57-1"></a><span class="kw">table</span>(Prediction2)</span></code></pre></div>
<pre><code>## Prediction2
##   0   1 
## 171  97</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="excerces.html#cb59-1"></a><span class="kw">table</span>(Prediction3, validData<span class="op">$</span>Survived)</span></code></pre></div>
<pre><code>##            
## Prediction3   0   1
##           0 156  23
##           1  14  75</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="excerces.html#cb61-1"></a><span class="kw">table</span>(validData<span class="op">$</span>Survived)</span></code></pre></div>
<pre><code>## 
##   0   1 
## 170  98</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="excerces.html#cb63-1"></a><span class="kw">table</span>(Prediction3)</span></code></pre></div>
<pre><code>## Prediction3
##   0   1 
## 179  89</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="excerces.html#cb65-1"></a>compare1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(validData<span class="op">$</span>PassengerId, <span class="dt">validData =</span> validData<span class="op">$</span>Survived , <span class="dt">predict =</span> Prediction2)</span>
<span id="cb65-2"><a href="excerces.html#cb65-2"></a><span class="co"># Find differences</span></span>
<span id="cb65-3"><a href="excerces.html#cb65-3"></a>dif1 &lt;-<span class="st"> </span>compare1[compare1[<span class="dv">2</span>] <span class="op">!=</span><span class="st"> </span>compare1[<span class="dv">3</span>], ]</span>
<span id="cb65-4"><a href="excerces.html#cb65-4"></a><span class="co">#show dif</span></span>
<span id="cb65-5"><a href="excerces.html#cb65-5"></a>dif1</span></code></pre></div>
<pre><code>##     validData.PassengerId validData predict
## 18                     18         1       0
## 24                     24         1       0
## 37                     37         1       0
## 50                     50         0       1
## 56                     56         1       0
## 72                     72         0       1
## 82                     82         1       0
## 114                   114         0       1
## 115                   115         0       1
## 148                   148         0       1
## 200                   200         0       1
## 230                   230         0       1
## 236                   236         0       1
## 247                   247         0       1
## 268                   268         1       0
## 287                   287         1       0
## 391                   391         1       0
## 392                   392         1       0
## 416                   416         0       1
## 437                   437         0       1
## 445                   445         1       0
## 490                   490         1       0
## 502                   502         0       1
## 503                   503         0       1
## 513                   513         1       0
## 565                   565         0       1
## 568                   568         0       1
## 571                   571         1       0
## 579                   579         0       1
## 580                   580         1       0
## 594                   594         0       1
## 618                   618         0       1
## 622                   622         1       0
## 644                   644         1       0
## 648                   648         1       0
## 679                   679         0       1
## 680                   680         1       0
## 702                   702         1       0
## 703                   703         0       1
## 725                   725         1       0
## 730                   730         0       1
## 738                   738         1       0
## 741                   741         1       0
## 814                   814         0       1
## 828                   828         1       0
## 832                   832         1       0
## 858                   858         1       0
## 883                   883         0       1
## 889                   889         0       1</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="excerces.html#cb67-1"></a>compare2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(validData<span class="op">$</span>PassengerId, <span class="dt">validData =</span> validData<span class="op">$</span>Survived , <span class="dt">predict =</span> Prediction3)</span>
<span id="cb67-2"><a href="excerces.html#cb67-2"></a><span class="co"># Find differences</span></span>
<span id="cb67-3"><a href="excerces.html#cb67-3"></a>dif2 &lt;-<span class="st"> </span>compare2[compare2[<span class="dv">2</span>] <span class="op">!=</span><span class="st"> </span>compare2[<span class="dv">3</span>], ]</span>
<span id="cb67-4"><a href="excerces.html#cb67-4"></a><span class="co">#show dif</span></span>
<span id="cb67-5"><a href="excerces.html#cb67-5"></a>dif2</span></code></pre></div>
<pre><code>##     validData.PassengerId validData predict
## 7                       7         0       1
## 18                     18         1       0
## 24                     24         1       0
## 26                     26         1       0
## 37                     37         1       0
## 56                     56         1       0
## 69                     69         1       0
## 82                     82         1       0
## 89                     89         1       0
## 115                   115         0       1
## 200                   200         0       1
## 236                   236         0       1
## 247                   247         0       1
## 268                   268         1       0
## 287                   287         1       0
## 312                   312         1       0
## 391                   391         1       0
## 392                   392         1       0
## 435                   435         0       1
## 438                   438         1       0
## 445                   445         1       0
## 502                   502         0       1
## 503                   503         0       1
## 560                   560         1       0
## 571                   571         1       0
## 579                   579         0       1
## 580                   580         1       0
## 594                   594         0       1
## 644                   644         1       0
## 648                   648         1       0
## 680                   680         1       0
## 703                   703         0       1
## 730                   730         0       1
## 738                   738         1       0
## 775                   775         1       0
## 783                   783         0       1
## 889                   889         0       1</code></pre>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="summary.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown/edit/master/inst/examples/%s",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "none"
},
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
